---
id: T078
title: Update Frontend to Display Generated Images
status: Done
epic: E05
effort: M
risk: Medium
dependencies: [T077, T076]
assignee: CursorAgent
completed_at: 2025-06-10T11:35:00+08:00
---

### Description

Update the UniBest frontend to properly display generated images from the Gemini API. Implement job polling, status updates, and image display functionality in the generate page and history page.

### Acceptance Criteria

- [ ] Update generate page to poll job status after submission
- [ ] Display loading state with progress indicator during generation
- [ ] Show generated image when job completes successfully
- [ ] Handle error states gracefully (generation failed, timeout)
- [ ] Update history page to display generated images
- [ ] Implement image viewer/zoom functionality
- [ ] Add download/share functionality for generated images
- [ ] Update API service to handle new async endpoints

### Context Binding

- **Code:** `@/frontend/src/pages/generate/index.vue`
- **Code:** `@/frontend/src/pages/history/index.vue`
- **Code:** `@/frontend/src/api/` (API service files)
- **Code:** `@/frontend/src/components/ResultDisplay/`

### Technical Requirements

**API Integration:**
- Update generate API to use new async flow
- Implement polling for job status
- Handle job_id responses and status checking

**UI Components:**
- Loading states with proper wot-design-uni components
- Error handling with user-friendly messages
- Image display with responsive design
- Progress indicators during generation

**User Experience:**
- Clear feedback during generation process
- Ability to navigate away and return to check status
- Proper error messages for failed generations
- Image download/save functionality

### Frontend Updates Needed

1. **Generate Page (UniBest + wot-design-uni):**
   - Replace direct image generation with job submission
   - Add polling mechanism for job status
   - Update UI to show generation progress

2. **History Page:**
   - Display thumbnails of generated images
   - Add full-screen image viewer
   - Show generation metadata (template, timestamp)

3. **API Services:**
   - Update request methods for async API
   - Add job status polling logic
   - Handle new response formats

### Agent Notes

*Use wot-design-uni components for consistent UI. Implement proper loading states and error handling. Focus on smooth user experience with async image generation.* 