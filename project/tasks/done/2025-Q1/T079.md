---
id: T079
title: Remove Mock Data and Fix User Authentication Flow
status: Done
epic: E01
effort: M
risk: Medium
dependencies: []
assignee: CursorAgent
created_at: 2025-01-28
updated_at: 2025-01-28
completed_at: 2025-01-28
---

### Description

Remove all mock data that is polluting the testing phase and implement proper user authentication flow. Issues include credits consistently showing 0, transaction history being empty, and mock recent activities appearing instead of real data.

### Acceptance Criteria

- [x] Remove `dev_mock_code` authentication from both frontend and backend
- [x] Remove hardcoded mock user "月来公主" with 100 credits
- [x] Remove hardcoded avatar URL and nickname from backend
- [x] Remove mock recent activities from profile page
- [x] Implement real user data fetching for credits and transactions
- [x] Fix user store to properly manage real user data
- [x] Update authentication flow to handle real WeChat login (or proper test flow)
- [x] Ensure credits display real values from database

### Context Binding

- **Code:** `@/frontend/src/pages/login/index.vue`
- **Code:** `@/backend/internal/service/auth_service_impl.go`
- **Code:** `@/frontend/src/pages/profile/index.vue`
- **Code:** `@/frontend/src/store/user.ts`

### Agent Notes

*Priority fix - this is blocking proper testing and user experience.* 